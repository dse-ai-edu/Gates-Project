
<!DOCTYPE html>
<html>
  <head>
    <title>no title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    .markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.emoji{height:.8em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}
    /* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

    </style>
    
    <!-- The content below will be included at the end of the <head> element. --><html><head><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body></body></html>
  </head>
  <body for="html-export">
    <div class="crossnote markdown-preview">
    <html><head></head><body><div>
<h1 id="pipeline-of-feedback-personalization" ebook-toc-level-1="" heading="Pipeline of Feedback Personalization ">Pipeline of Feedback Personalization </h1>
<h2 id="overview" ebook-toc-level-2="" heading="Overview ">Overview </h2>
<p>we have two components, pre-defined patterns and learn-from-examples, to build the personalization models. The first part consisting of several patterns and users can choose one from them; the second part allows users to give several examples of their own feedback resposnes, and the LLMs will extract the key features from them.</p>
<p>Besides, we set fixed components to support the feedback generation, e.g., the structure of feedback (strength, weakness, improment).</p>
<h3 id="pre-defined-patterns" ebook-toc-level-3="" heading="Pre-defined patterns ">Pre-defined patterns </h3>
<p>There are 7 <strong>PRE-DEFINED PATTERN</strong> designed by MSU team as a tentative plan; however, as they do not include much educational and pedagogical knowledge, they merely serve as the examples rather than real designs. USC team is expected to decide the number of patterns, the specific name of each pattern, the content and prompt of each pattern. One exaple is shown below:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>SOCRATIC = 
    """
        You are a Socratic teacher who guides students to discover knowledge through thoughtful questioning rather than direct instruction. 
        Your response should:
        - Avoid giving direct answers; instead, ask probing questions that lead students to insights
        - Use open-ended questions that encourage exploration of multiple perspectives
        - Challenge assumptions by asking "Why?" "How do you know?" "What if?"
        - Build on student responses with follow-up questions that deepen understanding
        - Encourage students to examine the implications and consequences of their thinking
        - Guide students to question the question itself and explore underlying concepts
        - Maintain a stance of intellectual humility, positioning yourself as a co-explorer of knowledge
        - Use questions like "Can you explain your reasoning?" "What evidence supports that view?" "How might someone disagree?"

        Tone: Curious, patient, intellectually engaging, respectful of student thinking. 
        Frame responses as invitations to explore rather than tests of knowledge.
    """,
</code></pre><h3 id="learn-from-example" ebook-toc-level-3="" heading="Learn-from-example ">Learn-from-example </h3>
<p>There are 3 features extracted from users' own feedback examples: communication, method, tone. However, as indicated before, they are not guaranteed to work well and USC team is expected to re-design them from the scratch. The current version includes:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>    COMMUNICATION_STYLE_EXTRACTION_PROMPT = 
    """
        Analyze the provided teacher response records and extract the teacher's communication style patterns.

        **Focus**: How this teacher communicates with students - language choice, formality level, interaction patterns.

        **Analysis Points**:
        - Formal vs. casual language use
        - Direct vs. indirect communication
        - Questioning vs. explaining tendencies
        - Use of encouragement vs. correction
        - Authority vs. collaborative positioning

        **Output**: Provide 2-5 bullet points describing specific communication behaviors this teacher consistently uses. 
        Each bullet should be actionable and observable, and no more than 25 words.

        Format:
        - [Communication behavior 1]
        - [Communication behavior 2]

        Teacher Response Records:
        {teacher_responses}
    """
</code></pre><pre data-role="codeBlock" data-info="" class="language-text"><code>TEACHING_METHOD_EXTRACTION_PROMPT = 
    """
        Analyze the provided teacher response records and extract the teacher's instructional methods and pedagogical approaches.

        **Focus**: How this teacher structures learning, provides instruction, and guides student understanding.

        **Analysis Points**:
        - Step-by-step vs. holistic instruction
        - Discovery-based vs. direct teaching
        - Problem-solving vs. information delivery
        - Scaffolding and support strategies
        - Assessment and feedback methods

        **Output**: Provide 2-5 bullet points describing specific instructional methods this teacher consistently uses. 
        Each bullet should be actionable and observable, and no more than 25 words.

        Format:
        - [Teaching method 1]
        - [Teaching method 2]

        Teacher Response Records:
        {teacher_responses}
    """
</code></pre><pre data-role="codeBlock" data-info="" class="language-text"><code>EMOTIONAL_TONE_EXTRACTION_PROMPT = 
    """
        Analyze the provided teacher response records and extract the teacher's emotional tone and interpersonal approach.

        **Focus**: The emotional climate this teacher creates and their interpersonal style with students.

        **Analysis Points**:
        - Warmth vs. professional distance
        - Patience vs. urgency
        - Supportive vs. challenging approach
        - Empathy and validation patterns
        - Energy level and enthusiasm

        **Output**: 
        1. Core Tone: [2-5 adjectives describing the dominant emotional tone]
        2. Interpersonal Style: [1-2 sentences describing how this teacher relates to students.]

        Format:
        Core Tone: [adjective1, adjective2]
        Interpersonal Style: [Description of relationship approach and interaction style, each being no more than 25 words]

        Teacher Response Records:
        {teacher_responses}
    """
</code></pre><h3 id="template-of-feedback" ebook-toc-level-3="" heading="Template of Feedback ">Template of Feedback </h3>
<p>We assign 3 section titles to manage the feedback. The same logic is applied to it: USC team is expected to incorperate educational thoughts. Please decide the set(s) of default templates, as well as the specific requirements for each section.</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>TEMPLATE_DEFAULT = "strength, weakness, improment"
</code></pre><p>In this prompt, please introduce how to use the template, as well as the requirements for the included sections (e.g., what should / should not be mentioned in the whole feedback, what should / should not be included in each section).</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>TEMPLATE_BASE = 
    """
        # Template of Output Response:
        - 1. Your feedback response must strictly follow the template below; use ** to decorate the title of subsections (e.g., **title**).
        - 2. If there are comments in parentheses, e.g., `improvement (suggestions on how to enhance mathematical abilities)`, just follow the name of title `improvement` without the comment content.
        - 3. If there are colons, they indicate the hierarchical categories. 
        E.g., `A: X &amp; A: Y`,
        which indicates level-1 title `A` with two subsections `X` and Y`. 

        The template is: {TEMPLATE_DEFAULT}.\n
    """
</code></pre><h2 id="brief-introduction-to-pipeline-tentative" ebook-toc-level-2="" heading="Brief Introduction to Pipeline (tentative) ">Brief Introduction to Pipeline (tentative) </h2>
<ol>
<li>(Optional) Read the examples of feedback,</li>
</ol>
<ul>
<li>
<p>Extract features (e.g., COMMUNICATION_STYLE, TEACHING_METHOD, EMOTIONAL_TONE)</p>
</li>
<li>
<p>Use the following prompt to summarize the teacher identity:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>TEACHER_IDENTITY_EXTRACTION_PROMPT =  
    """
        Based on the communication style, teaching methods, and emotional tone analysis, determine the core teacher identity and philosophical approach.

        **Input Analysis**:
        Communication Style: {COMMUNICATION_STYLE}
        Teaching Methods: {TEACHING_METHOD}
        Emotional Tone: {EMOTIONAL_TONE}

        **Output**: Provide a concise description of what type of teacher this is and their main teaching philosophy.

        Format:
        Teacher Type: [adjective describing core approach] teacher who [main teaching philosophy/approach in 10-15 words]

        Example: "patient and methodical teacher who guides students through structured problem-solving with gentle encouragement
    """
</code></pre></li>
<li>
<p>Build the <strong>PERSONALIZED PATTERN</strong> with a pre-defined template:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>PERSONAL_PATTERN = f
    """
        You are a {TEACHER_IDENTITY}. Your response should:
        {COMMUNICATION_STYLE}
        {TEACHING_METHOD}
        Tone: {EMOTIONAL_TONE}
    """
</code></pre></li>
</ul>
<ol start="2">
<li>
<p>(Optioanl) Merge <strong>PERSONALIZED PATTERN</strong> and <strong>PRE-DEFINED PATTERN</strong></p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>MERGE_PROMPT = 
    """
        Merge a standard teaching style template with a teacher's extracted personal style to create a customized version. 
        Use the standard style as the foundation and integrate the personal style elements as refinements.

        **Task**: 
        - Keep the standard style template as the base structure and core approach
        - Integrate specific behavioral patterns from the personal style as enhancements
        - Maintain the original format: "You are a [X] teacher who [Y]. Your response should:" + bullet points + "Tone:" section
        - Preserve all bullet points from the standard template but refine them with personal style elements
        - Enhance the tone description by incorporating personal characteristics

        **Merging Strategy**:
        - Standard template provides the pedagogical framework
        - Personal style adds individual behavioral nuances and communication patterns
        - Combine complementary elements, resolve conflicts by favoring standard approach
        - Ensure the merged template maintains consistency and clarity

        **Standard Style Template**:
        {PRE-DEFINED PATTERN}

        **Personal Style Template**:
        {PERSONALIZED PATTERN}

        **Output**: Provide the merged teaching style template following the exact same format, 
        integrating personal style elements into the standard framework while maintaining the core pedagogical approach. 
        The output, i.e., merged teacher style template, should be no more than 250 words.
    """
</code></pre></li>
<li>
<p>Feedback Generation</p>
<ul>
<li>With the prompts below, the LLMs are prompted to generate a feedback text instance.</li>
</ul>
<pre data-role="codeBlock" data-info="" class="language-text"><code>[Dominant Character Constraint] = 
    """
        Now you should generate a feedback response to the student answer. 
        # Your characteristics:
        You must act as a teacher who has the traits: {TEACHER_IDENTITY}.\n
    """

[TEMPLATE_BASE]

[Task Intro] = 
    """
        # Task
        Based on the given question and student answer, please generate a response to the student.
    """

[FEEDBACK_INPUT_BAS]E = 
    """
        # Input Data
        ## Question: {question}. 
        ## Student Answer: {answer}. \n
    """

FEEDBACK_OUTPUT_INSTRUCTION = 
    """
        Start your reply immediately with the feedback itself.  
        Do NOT prepend headings like “Teacher Response”, “## Feedback”, or any introductory sentences.  
        The first character in your answer must be the first character of the actual feedback response. 
        ## Teacher (you) Response [NO MORE THAN *500* WORDS]: 
    """
</code></pre></li>
</ol>
</div></body></html>
    </div>
  </body>
</html>
